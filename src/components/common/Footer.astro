---
import { reader } from "../../utils/keystatic";

import { SITE_INFO, FOOTER_LINKS } from "../../constants";

interface Props {
  variant?: "default" | "mobile";
}

const { variant = "default" } = Astro.props;
const isMobile = variant === "mobile";

const global = await reader.singletons.global.read();
const year = new Date().getFullYear();
---

<footer
  class={isMobile
    ? "mt-auto border-t border-zinc-100 pt-6"
    : "hidden md:block bg-zinc-900 text-zinc-400 py-12 border-t border-zinc-800"}
>
  <div
    class={isMobile
      ? ""
      : "container mx-auto px-6 lg:px-12 flex flex-col md:flex-row justify-between items-center gap-8"}
  >
    {/* Sección de marca */}
    <div class={isMobile ? "" : "text-center md:text-left"}>
      <h4
        class={isMobile
          ? "text-zinc-900 font-bold text-lg mb-1"
          : "text-white font-bold text-xl mb-2"}
      >
        {global?.nombreSitio || SITE_INFO.name}
      </h4>
      <p
        class={isMobile
          ? "text-sm text-zinc-400 mb-4"
          : "text-sm max-w-xs mx-auto md:mx-0"}
      >
        Construyendo puentes de oportunidad y desarrollo profesional.
      </p>
    </div>

    {/* Sección de enlaces */}
    <div
      class={isMobile
        ? "flex flex-wrap gap-x-5 gap-y-2 text-sm text-zinc-500"
        : "flex flex-wrap justify-center gap-6 text-sm"}
    >
      {
        FOOTER_LINKS.map((link) => (
          <a
            href={link.href}
            class={
              isMobile
                ? "hover:text-zinc-900 transition-colors"
                : "group relative hover:text-white transition-colors py-1"
            }
          >
            {link.label}
            {!isMobile && (
              <span class="absolute bottom-0 left-0 w-full h-0.5 bg-terracotta-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left" />
            )}
          </a>
        ))
      }

      {
        global?.redes?.linkedin && (
          <a
            href={global.redes.linkedin}
            target="_blank"
            rel="noopener noreferrer"
            class={
              isMobile
                ? "hover:text-zinc-900 transition-colors"
                : "group relative hover:text-white flex items-center gap-1 py-1"
            }
          >
            LinkedIn
            {!isMobile && (
              <svg
                class="w-3 h-3"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"
                />
              </svg>
            )}
            {!isMobile && (
              <span class="absolute bottom-0 left-0 w-full h-0.5 bg-terracotta-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left" />
            )}
          </a>
        )
      }
    </div>

    {/* Derechos de autor */}
    <div
      class={isMobile
        ? "text-xs text-zinc-400 mt-4"
        : "text-sm text-zinc-600 text-center md:text-right"}
    >
      &copy; {year}
      {global?.footerTexto || "Todos los derechos reservados."}
    </div>
  </div>
</footer>
